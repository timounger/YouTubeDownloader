<!-- HTML header for doxygen 1.12.0-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>YouTubeDownloader: cipher Namespace Reference</title>
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="YouTubeDownloader.ico"/></td>
  <td id="projectalign">
   <div id="projectname">YouTubeDownloader<span id="projectnumber">&#160;v1.0.6</span>
   </div>
   <div id="projectbrief">YouTube content downloader</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<html>
    <head>
        <!-- ... other metadata & script includes ... -->
        <script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
        <script type="text/javascript">
            DoxygenAwesomeDarkModeToggle.init()
        </script>
    </head>
    <body>
<html>
   <head>
	   <!-- ... other metadata & script includes ... -->
	   <script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
	   <script type="text/javascript">
		   DoxygenAwesomeFragmentCopyButton.init()
	   </script>
   </head>
   <body>
<html>
   <head>
	   <!-- ... other metadata & script includes ... -->
	   <script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
	   <script type="text/javascript">
		   DoxygenAwesomeParagraphLink.init()
	   </script>
   </head>
   <body>
<html>
   <head>
	   <!-- ... other metadata & script includes ... -->
	   <script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
	   <script type="text/javascript">
		   DoxygenAwesomeInteractiveToc.init()
	   </script>
   </head>
   <body>
  <html>
   <head>
       <!-- ... other metadata & script includes ... -->
       <script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
       <script type="text/javascript">
           DoxygenAwesomeTabs.init()
       </script>
   </head>
   <body>
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('namespacecipher.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">cipher Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcipher_1_1_cipher.html">Cipher</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a646ac6d4a36d80b1b5ad52f196879d7d" id="r_a646ac6d4a36d80b1b5ad52f196879d7d"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a646ac6d4a36d80b1b5ad52f196879d7d">get_initial_function_name</a> (str js)</td></tr>
<tr class="separator:a646ac6d4a36d80b1b5ad52f196879d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad998cdc7612d95a6d4a8c45389f20819" id="r_ad998cdc7612d95a6d4a8c45389f20819"><td class="memItemLeft" align="right" valign="top">List[Any]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad998cdc7612d95a6d4a8c45389f20819">get_throttling_function_array</a> (str js)</td></tr>
<tr class="separator:ad998cdc7612d95a6d4a8c45389f20819"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a979f36e8d2f0821d504129b21a6652cb" id="r_a979f36e8d2f0821d504129b21a6652cb"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a979f36e8d2f0821d504129b21a6652cb">get_throttling_function_code</a> (str js)</td></tr>
<tr class="separator:a979f36e8d2f0821d504129b21a6652cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26fa18675ee2150778c53ebaa91c0abd" id="r_a26fa18675ee2150778c53ebaa91c0abd"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a26fa18675ee2150778c53ebaa91c0abd">get_throttling_function_name</a> (str js)</td></tr>
<tr class="separator:a26fa18675ee2150778c53ebaa91c0abd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa76c5734d5d7867f268b8adec59482d9" id="r_aa76c5734d5d7867f268b8adec59482d9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa76c5734d5d7867f268b8adec59482d9">get_throttling_plan</a> (str js)</td></tr>
<tr class="separator:aa76c5734d5d7867f268b8adec59482d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fd74464e1755dd6f8eb6e895b996b37" id="r_a3fd74464e1755dd6f8eb6e895b996b37"><td class="memItemLeft" align="right" valign="top">Dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3fd74464e1755dd6f8eb6e895b996b37">get_transform_map</a> (str js, str var)</td></tr>
<tr class="separator:a3fd74464e1755dd6f8eb6e895b996b37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3613a081ffc0609d716e7e828150889" id="r_ae3613a081ffc0609d716e7e828150889"><td class="memItemLeft" align="right" valign="top">List[str]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae3613a081ffc0609d716e7e828150889">get_transform_object</a> (str js, str var)</td></tr>
<tr class="separator:ae3613a081ffc0609d716e7e828150889"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c848ede2c7ea7329373b341b87d1c8d" id="r_a2c848ede2c7ea7329373b341b87d1c8d"><td class="memItemLeft" align="right" valign="top">List[str]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2c848ede2c7ea7329373b341b87d1c8d">get_transform_plan</a> (str js)</td></tr>
<tr class="separator:a2c848ede2c7ea7329373b341b87d1c8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86bf2eb6e9055b507bb59e696eda7113" id="r_a86bf2eb6e9055b507bb59e696eda7113"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a86bf2eb6e9055b507bb59e696eda7113">js_splice</a> (list arr, int start, delete_count=None, *items)</td></tr>
<tr class="separator:a86bf2eb6e9055b507bb59e696eda7113"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b7478128b5ee0c01c58d31b0e30e1d7" id="r_a0b7478128b5ee0c01c58d31b0e30e1d7"><td class="memItemLeft" align="right" valign="top">Callable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0b7478128b5ee0c01c58d31b0e30e1d7">map_functions</a> (str js_func)</td></tr>
<tr class="separator:a0b7478128b5ee0c01c58d31b0e30e1d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b8cd6b9c8bba9beceb0677bb04b8efc" id="r_a2b8cd6b9c8bba9beceb0677bb04b8efc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2b8cd6b9c8bba9beceb0677bb04b8efc">reverse</a> (List arr, Optional[Any] _)</td></tr>
<tr class="separator:a2b8cd6b9c8bba9beceb0677bb04b8efc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69ddb2b7c057b7d5eba76507569da123" id="r_a69ddb2b7c057b7d5eba76507569da123"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a69ddb2b7c057b7d5eba76507569da123">splice</a> (List arr, int b)</td></tr>
<tr class="separator:a69ddb2b7c057b7d5eba76507569da123"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff8711fbb5a3e75a1267da95574bfcdc" id="r_aff8711fbb5a3e75a1267da95574bfcdc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aff8711fbb5a3e75a1267da95574bfcdc">swap</a> (List arr, int b)</td></tr>
<tr class="separator:aff8711fbb5a3e75a1267da95574bfcdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11d25cb8b076850ad41709906710d518" id="r_a11d25cb8b076850ad41709906710d518"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a11d25cb8b076850ad41709906710d518">throttling_cipher_function</a> (list d, str e)</td></tr>
<tr class="separator:a11d25cb8b076850ad41709906710d518"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a890dfc6b795bf3044235885d0bab917a" id="r_a890dfc6b795bf3044235885d0bab917a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a890dfc6b795bf3044235885d0bab917a">throttling_mod_func</a> (list d, int e)</td></tr>
<tr class="separator:a890dfc6b795bf3044235885d0bab917a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78fc6f6225e286385f6d5acfaf9514c5" id="r_a78fc6f6225e286385f6d5acfaf9514c5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a78fc6f6225e286385f6d5acfaf9514c5">throttling_nested_splice</a> (list d, int e)</td></tr>
<tr class="separator:a78fc6f6225e286385f6d5acfaf9514c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa10e5d13c108fc4b8295ae46107cf95" id="r_aaa10e5d13c108fc4b8295ae46107cf95"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaa10e5d13c108fc4b8295ae46107cf95">throttling_prepend</a> (list d, int e)</td></tr>
<tr class="separator:aaa10e5d13c108fc4b8295ae46107cf95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9a96f8364ec62f17ca730a033e5e9d9" id="r_ad9a96f8364ec62f17ca730a033e5e9d9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad9a96f8364ec62f17ca730a033e5e9d9">throttling_push</a> (list d, Any e)</td></tr>
<tr class="separator:ad9a96f8364ec62f17ca730a033e5e9d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a067efe5cec339fe573fe3bb9b92693a9" id="r_a067efe5cec339fe573fe3bb9b92693a9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a067efe5cec339fe573fe3bb9b92693a9">throttling_reverse</a> (list arr)</td></tr>
<tr class="separator:a067efe5cec339fe573fe3bb9b92693a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6f1a431a83c0433dbe7ffbe3776b8e8" id="r_ae6f1a431a83c0433dbe7ffbe3776b8e8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae6f1a431a83c0433dbe7ffbe3776b8e8">throttling_swap</a> (list d, int e)</td></tr>
<tr class="separator:ae6f1a431a83c0433dbe7ffbe3776b8e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b604d7c6f0c3ec62f527c982ee664b3" id="r_a6b604d7c6f0c3ec62f527c982ee664b3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6b604d7c6f0c3ec62f527c982ee664b3">throttling_unshift</a> (list d, int e)</td></tr>
<tr class="separator:a6b604d7c6f0c3ec62f527c982ee664b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0b14e488ae28d98d262453f3e9cd6e4d" id="r_a0b14e488ae28d98d262453f3e9cd6e4d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0b14e488ae28d98d262453f3e9cd6e4d">logger</a> = logging.getLogger(__name__)</td></tr>
<tr class="separator:a0b14e488ae28d98d262453f3e9cd6e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">This module contains all logic necessary to decipher the signature.

YouTube's strategy to restrict downloading videos is to send a ciphered version
of the signature to the client, along with the decryption algorithm obfuscated
in JavaScript. For the clients to play the videos, JavaScript must take the
ciphered version, cycle it through a series of "transform functions," and then
signs the media URL with the output.

This module is responsible for (1) finding and extracting those "transform
functions" (2) maps them to Python equivalents and (3) taking the ciphered
signature and decoding it.</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a646ac6d4a36d80b1b5ad52f196879d7d" name="a646ac6d4a36d80b1b5ad52f196879d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a646ac6d4a36d80b1b5ad52f196879d7d">&#9670;&#160;</a></span>get_initial_function_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> str get_initial_function_name </td>
          <td>(</td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>js</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Extract the name of the function responsible for computing the signature.
:param str js:
    The contents of the base.js asset file.
:rtype: str
:returns:
    Function name from regex match
</pre> 
<p class="definition">Definition at line <a class="el" href="cipher_8py_source.html#l00138">138</a> of file <a class="el" href="cipher_8py_source.html">cipher.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  138</span><span class="keyword">def </span>get_initial_function_name(js: str) -&gt; str:</div>
<div class="line"><span class="lineno">  139</span>    <span class="stringliteral">&quot;&quot;&quot;Extract the name of the function responsible for computing the signature.</span></div>
<div class="line"><span class="lineno">  140</span><span class="stringliteral">    :param str js:</span></div>
<div class="line"><span class="lineno">  141</span><span class="stringliteral">        The contents of the base.js asset file.</span></div>
<div class="line"><span class="lineno">  142</span><span class="stringliteral">    :rtype: str</span></div>
<div class="line"><span class="lineno">  143</span><span class="stringliteral">    :returns:</span></div>
<div class="line"><span class="lineno">  144</span><span class="stringliteral">        Function name from regex match</span></div>
<div class="line"><span class="lineno">  145</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  146</span> </div>
<div class="line"><span class="lineno">  147</span>    function_patterns = [</div>
<div class="line"><span class="lineno">  148</span>        <span class="stringliteral">r&quot;\b[cs]\s*&amp;&amp;\s*[adf]\.set\&zwj;([^,]+\s*,\s*encodeURIComponent\s*\&zwj;(\s*(?P&lt;sig&gt;[a-zA-Z0-9$]+)\&zwj;(&quot;</span>,  <span class="comment"># noqa: E501</span></div>
<div class="line"><span class="lineno">  149</span>        <span class="stringliteral">r&quot;\b[a-zA-Z0-9]+\s*&amp;&amp;\s*[a-zA-Z0-9]+\.set\&zwj;([^,]+\s*,\s*encodeURIComponent\s*\&zwj;(\s*(?P&lt;sig&gt;[a-zA-Z0-9$]+)\&zwj;(&quot;</span>,  <span class="comment"># noqa: E501</span></div>
<div class="line"><span class="lineno">  150</span>        <span class="stringliteral">r&#39;(?:\b|[^a-zA-Z0-9$])(?P&lt;sig&gt;[a-zA-Z0-9$]{2})\s*=\s*function\&zwj;(\s*a\s*\&zwj;)\s*{\s*a\s*=\s*a\.split\&zwj;(\s*&quot;&quot;\s*\&zwj;)&#39;</span>,  <span class="comment"># noqa: E501</span></div>
<div class="line"><span class="lineno">  151</span>        <span class="stringliteral">r&#39;(?P&lt;sig&gt;[a-zA-Z0-9$]+)\s*=\s*function\&zwj;(\s*a\s*\&zwj;)\s*{\s*a\s*=\s*a\.split\&zwj;(\s*&quot;&quot;\s*\&zwj;)&#39;</span>,  <span class="comment"># noqa: E501</span></div>
<div class="line"><span class="lineno">  152</span>        <span class="stringliteral">r&#39;([&quot;\&#39;])signature\1\s*,\s*(?P&lt;sig&gt;[a-zA-Z0-9$]+)\&zwj;(&#39;</span>,</div>
<div class="line"><span class="lineno">  153</span>        <span class="stringliteral">r&quot;\.sig\|\|(?P&lt;sig&gt;[a-zA-Z0-9$]+)\&zwj;(&quot;</span>,</div>
<div class="line"><span class="lineno">  154</span>        <span class="stringliteral">r&quot;yt\.akamaized\.net/\&zwj;)\s*\|\|\s*.*?\s*[cs]\s*&amp;&amp;\s*[adf]\.set\&zwj;([^,]+\s*,\s*(?:encodeURIComponent\s*\&zwj;()?\s*(?P&lt;sig&gt;[a-zA-Z0-9$]+)\&zwj;(&quot;</span>,  <span class="comment"># noqa: E501</span></div>
<div class="line"><span class="lineno">  155</span>        <span class="stringliteral">r&quot;\b[cs]\s*&amp;&amp;\s*[adf]\.set\&zwj;([^,]+\s*,\s*(?P&lt;sig&gt;[a-zA-Z0-9$]+)\&zwj;(&quot;</span>,  <span class="comment"># noqa: E501</span></div>
<div class="line"><span class="lineno">  156</span>        <span class="stringliteral">r&quot;\b[a-zA-Z0-9]+\s*&amp;&amp;\s*[a-zA-Z0-9]+\.set\&zwj;([^,]+\s*,\s*(?P&lt;sig&gt;[a-zA-Z0-9$]+)\&zwj;(&quot;</span>,  <span class="comment"># noqa: E501</span></div>
<div class="line"><span class="lineno">  157</span>        <span class="stringliteral">r&quot;\bc\s*&amp;&amp;\s*a\.set\&zwj;([^,]+\s*,\s*\&zwj;([^)]*\&zwj;)\s*\&zwj;(\s*(?P&lt;sig&gt;[a-zA-Z0-9$]+)\&zwj;(&quot;</span>,  <span class="comment"># noqa: E501</span></div>
<div class="line"><span class="lineno">  158</span>        <span class="stringliteral">r&quot;\bc\s*&amp;&amp;\s*[a-zA-Z0-9]+\.set\&zwj;([^,]+\s*,\s*\&zwj;([^)]*\&zwj;)\s*\&zwj;(\s*(?P&lt;sig&gt;[a-zA-Z0-9$]+)\&zwj;(&quot;</span>,  <span class="comment"># noqa: E501</span></div>
<div class="line"><span class="lineno">  159</span>        <span class="stringliteral">r&quot;\bc\s*&amp;&amp;\s*[a-zA-Z0-9]+\.set\&zwj;([^,]+\s*,\s*\&zwj;([^)]*\&zwj;)\s*\&zwj;(\s*(?P&lt;sig&gt;[a-zA-Z0-9$]+)\&zwj;(&quot;</span>,  <span class="comment"># noqa: E501</span></div>
<div class="line"><span class="lineno">  160</span>    ]</div>
<div class="line"><span class="lineno">  161</span>    logger.debug(<span class="stringliteral">&quot;finding initial function name&quot;</span>)</div>
<div class="line"><span class="lineno">  162</span>    <span class="keywordflow">for</span> pattern <span class="keywordflow">in</span> function_patterns:</div>
<div class="line"><span class="lineno">  163</span>        regex = re.compile(pattern)</div>
<div class="line"><span class="lineno">  164</span>        function_match = regex.search(js)</div>
<div class="line"><span class="lineno">  165</span>        <span class="keywordflow">if</span> function_match:</div>
<div class="line"><span class="lineno">  166</span>            logger.debug(<span class="stringliteral">&quot;finished regex search, matched: %s&quot;</span>, pattern)</div>
<div class="line"><span class="lineno">  167</span>            <span class="keywordflow">return</span> function_match.group(1)</div>
<div class="line"><span class="lineno">  168</span> </div>
<div class="line"><span class="lineno">  169</span>    <span class="keywordflow">raise</span> RegexMatchError(</div>
<div class="line"><span class="lineno">  170</span>        caller=<span class="stringliteral">&quot;get_initial_function_name&quot;</span>, pattern=<span class="stringliteral">&quot;multiple&quot;</span></div>
<div class="line"><span class="lineno">  171</span>    )</div>
<div class="line"><span class="lineno">  172</span> </div>
<div class="line"><span class="lineno">  173</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad998cdc7612d95a6d4a8c45389f20819" name="ad998cdc7612d95a6d4a8c45389f20819"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad998cdc7612d95a6d4a8c45389f20819">&#9670;&#160;</a></span>get_throttling_function_array()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> List[Any] get_throttling_function_array </td>
          <td>(</td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>js</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Extract the "c" array.

:param str js:
    The contents of the base.js asset file.
:returns:
    The array of various integers, arrays, and functions.
</pre> 
<p class="definition">Definition at line <a class="el" href="cipher_8py_source.html#l00327">327</a> of file <a class="el" href="cipher_8py_source.html">cipher.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  327</span><span class="keyword">def </span>get_throttling_function_array(js: str) -&gt; List[Any]:</div>
<div class="line"><span class="lineno">  328</span>    <span class="stringliteral">&quot;&quot;&quot;Extract the &quot;c&quot; array.</span></div>
<div class="line"><span class="lineno">  329</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  330</span><span class="stringliteral">    :param str js:</span></div>
<div class="line"><span class="lineno">  331</span><span class="stringliteral">        The contents of the base.js asset file.</span></div>
<div class="line"><span class="lineno">  332</span><span class="stringliteral">    :returns:</span></div>
<div class="line"><span class="lineno">  333</span><span class="stringliteral">        The array of various integers, arrays, and functions.</span></div>
<div class="line"><span class="lineno">  334</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  335</span>    raw_code = get_throttling_function_code(js)</div>
<div class="line"><span class="lineno">  336</span> </div>
<div class="line"><span class="lineno">  337</span>    array_start = <span class="stringliteral">r&quot;,c=\[&quot;</span></div>
<div class="line"><span class="lineno">  338</span>    array_regex = re.compile(array_start)</div>
<div class="line"><span class="lineno">  339</span>    match = array_regex.search(raw_code)</div>
<div class="line"><span class="lineno">  340</span> </div>
<div class="line"><span class="lineno">  341</span>    array_raw = find_object_from_startpoint(raw_code, match.span()[1] - 1)</div>
<div class="line"><span class="lineno">  342</span>    str_array = throttling_array_split(array_raw)</div>
<div class="line"><span class="lineno">  343</span> </div>
<div class="line"><span class="lineno">  344</span>    converted_array = []</div>
<div class="line"><span class="lineno">  345</span>    <span class="keywordflow">for</span> el <span class="keywordflow">in</span> str_array:</div>
<div class="line"><span class="lineno">  346</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  347</span>            converted_array.append(int(el))</div>
<div class="line"><span class="lineno">  348</span>            <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  349</span>        <span class="keywordflow">except</span> ValueError:</div>
<div class="line"><span class="lineno">  350</span>            <span class="comment"># Not an integer value.</span></div>
<div class="line"><span class="lineno">  351</span>            <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  352</span> </div>
<div class="line"><span class="lineno">  353</span>        <span class="keywordflow">if</span> el == <span class="stringliteral">&#39;null&#39;</span>:</div>
<div class="line"><span class="lineno">  354</span>            converted_array.append(<span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  355</span>            <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  356</span> </div>
<div class="line"><span class="lineno">  357</span>        <span class="keywordflow">if</span> el.startswith(<span class="stringliteral">&#39;&quot;&#39;</span>) <span class="keywordflow">and</span> el.endswith(<span class="stringliteral">&#39;&quot;&#39;</span>):</div>
<div class="line"><span class="lineno">  358</span>            <span class="comment"># Convert e.g. &#39;&quot;abcdef&quot;&#39; to string without quotation marks, &#39;abcdef&#39;</span></div>
<div class="line"><span class="lineno">  359</span>            converted_array.append(el[1:-1])</div>
<div class="line"><span class="lineno">  360</span>            <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  361</span> </div>
<div class="line"><span class="lineno">  362</span>        <span class="keywordflow">if</span> el.startswith(<span class="stringliteral">&#39;function&#39;</span>):</div>
<div class="line"><span class="lineno">  363</span>            mapper = (</div>
<div class="line"><span class="lineno">  364</span>                (<span class="stringliteral">r&quot;{for\&zwj;(\w=\&zwj;(\w%\w\.length\+\w\.length\&zwj;)%\w\.length;\w--;\&zwj;)\w\.unshift\&zwj;(\w.pop\&zwj;(\&zwj;)\&zwj;)}&quot;</span>, throttling_unshift),  <span class="comment"># noqa:E501</span></div>
<div class="line"><span class="lineno">  365</span>                (<span class="stringliteral">r&quot;{\w\.reverse\&zwj;(\&zwj;)}&quot;</span>, throttling_reverse),</div>
<div class="line"><span class="lineno">  366</span>                (<span class="stringliteral">r&quot;{\w\.push\&zwj;(\w\&zwj;)}&quot;</span>, throttling_push),</div>
<div class="line"><span class="lineno">  367</span>                (<span class="stringliteral">r&quot;;var\s\w=\w\[0\];\w\[0\]=\w\[\w\];\w\[\w\]=\w}&quot;</span>, throttling_swap),</div>
<div class="line"><span class="lineno">  368</span>                (<span class="stringliteral">r&quot;case\s\d+&quot;</span>, throttling_cipher_function),</div>
<div class="line"><span class="lineno">  369</span>                (<span class="stringliteral">r&quot;\w\.splice\&zwj;(0,1,\w\.splice\&zwj;(\w,1,\w\[0\]\&zwj;)\[0\]\&zwj;)&quot;</span>, throttling_nested_splice),  <span class="comment"># noqa:E501</span></div>
<div class="line"><span class="lineno">  370</span>                (<span class="stringliteral">r&quot;;\w\.splice\&zwj;(\w,1\&zwj;)}&quot;</span>, js_splice),</div>
<div class="line"><span class="lineno">  371</span>                (<span class="stringliteral">r&quot;\w\.splice\&zwj;(-\w\&zwj;)\.reverse\&zwj;(\&zwj;)\.forEach\&zwj;(function\&zwj;(\w\&zwj;){\w\.unshift\&zwj;(\w\&zwj;)}\&zwj;)&quot;</span>, throttling_prepend),  <span class="comment"># noqa:E501</span></div>
<div class="line"><span class="lineno">  372</span>                (<span class="stringliteral">r&quot;for\&zwj;(var \w=\w\.length;\w;\&zwj;)\w\.push\&zwj;(\w\.splice\&zwj;(--\w,1\&zwj;)\[0\]\&zwj;)}&quot;</span>, throttling_reverse),  <span class="comment"># noqa:E501</span></div>
<div class="line"><span class="lineno">  373</span>            )</div>
<div class="line"><span class="lineno">  374</span> </div>
<div class="line"><span class="lineno">  375</span>            found = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  376</span>            <span class="keywordflow">for</span> pattern, fn <span class="keywordflow">in</span> mapper:</div>
<div class="line"><span class="lineno">  377</span>                <span class="keywordflow">if</span> re.search(pattern, el):</div>
<div class="line"><span class="lineno">  378</span>                    converted_array.append(fn)</div>
<div class="line"><span class="lineno">  379</span>                    found = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  380</span>            <span class="keywordflow">if</span> found:</div>
<div class="line"><span class="lineno">  381</span>                <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  382</span> </div>
<div class="line"><span class="lineno">  383</span>        converted_array.append(el)</div>
<div class="line"><span class="lineno">  384</span> </div>
<div class="line"><span class="lineno">  385</span>    <span class="comment"># Replace null elements with array itself</span></div>
<div class="line"><span class="lineno">  386</span>    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(len(converted_array)):</div>
<div class="line"><span class="lineno">  387</span>        <span class="keywordflow">if</span> converted_array[i] <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  388</span>            converted_array[i] = converted_array</div>
<div class="line"><span class="lineno">  389</span> </div>
<div class="line"><span class="lineno">  390</span>    <span class="keywordflow">return</span> converted_array</div>
<div class="line"><span class="lineno">  391</span> </div>
<div class="line"><span class="lineno">  392</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a979f36e8d2f0821d504129b21a6652cb" name="a979f36e8d2f0821d504129b21a6652cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a979f36e8d2f0821d504129b21a6652cb">&#9670;&#160;</a></span>get_throttling_function_code()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> str get_throttling_function_code </td>
          <td>(</td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>js</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Extract the raw code for the throttling function.

:param str js:
    The contents of the base.js asset file.
:rtype: str
:returns:
    The name of the function used to compute the throttling parameter.
</pre> 
<p class="definition">Definition at line <a class="el" href="cipher_8py_source.html#l00302">302</a> of file <a class="el" href="cipher_8py_source.html">cipher.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  302</span><span class="keyword">def </span>get_throttling_function_code(js: str) -&gt; str:</div>
<div class="line"><span class="lineno">  303</span>    <span class="stringliteral">&quot;&quot;&quot;Extract the raw code for the throttling function.</span></div>
<div class="line"><span class="lineno">  304</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  305</span><span class="stringliteral">    :param str js:</span></div>
<div class="line"><span class="lineno">  306</span><span class="stringliteral">        The contents of the base.js asset file.</span></div>
<div class="line"><span class="lineno">  307</span><span class="stringliteral">    :rtype: str</span></div>
<div class="line"><span class="lineno">  308</span><span class="stringliteral">    :returns:</span></div>
<div class="line"><span class="lineno">  309</span><span class="stringliteral">        The name of the function used to compute the throttling parameter.</span></div>
<div class="line"><span class="lineno">  310</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  311</span>    <span class="comment"># Begin by extracting the correct function name</span></div>
<div class="line"><span class="lineno">  312</span>    name = re.escape(get_throttling_function_name(js))</div>
<div class="line"><span class="lineno">  313</span> </div>
<div class="line"><span class="lineno">  314</span>    <span class="comment"># Identify where the function is defined</span></div>
<div class="line"><span class="lineno">  315</span>    pattern_start = <span class="stringliteral">r&quot;%s=function\&zwj;(\w\&zwj;)&quot;</span> % name</div>
<div class="line"><span class="lineno">  316</span>    regex = re.compile(pattern_start)</div>
<div class="line"><span class="lineno">  317</span>    match = regex.search(js)</div>
<div class="line"><span class="lineno">  318</span> </div>
<div class="line"><span class="lineno">  319</span>    <span class="comment"># Extract the code within curly braces for the function itself, and merge any split lines</span></div>
<div class="line"><span class="lineno">  320</span>    code_lines_list = find_object_from_startpoint(js, match.span()[1]).split(<span class="stringliteral">&#39;\n&#39;</span>)</div>
<div class="line"><span class="lineno">  321</span>    joined_lines = <span class="stringliteral">&quot;&quot;</span>.join(code_lines_list)</div>
<div class="line"><span class="lineno">  322</span> </div>
<div class="line"><span class="lineno">  323</span>    <span class="comment"># Prepend function definition (e.g. `Dea=function(a)`)</span></div>
<div class="line"><span class="lineno">  324</span>    <span class="keywordflow">return</span> match.group(0) + joined_lines</div>
<div class="line"><span class="lineno">  325</span> </div>
<div class="line"><span class="lineno">  326</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a26fa18675ee2150778c53ebaa91c0abd" name="a26fa18675ee2150778c53ebaa91c0abd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26fa18675ee2150778c53ebaa91c0abd">&#9670;&#160;</a></span>get_throttling_function_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> str get_throttling_function_name </td>
          <td>(</td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>js</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Extract the name of the function that computes the throttling parameter.

:param str js:
    The contents of the base.js asset file.
:rtype: str
:returns:
    The name of the function used to compute the throttling parameter.
</pre> 
<p class="definition">Definition at line <a class="el" href="cipher_8py_source.html#l00255">255</a> of file <a class="el" href="cipher_8py_source.html">cipher.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  255</span><span class="keyword">def </span>get_throttling_function_name(js: str) -&gt; str:</div>
<div class="line"><span class="lineno">  256</span>    <span class="stringliteral">&quot;&quot;&quot;Extract the name of the function that computes the throttling parameter.</span></div>
<div class="line"><span class="lineno">  257</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  258</span><span class="stringliteral">    :param str js:</span></div>
<div class="line"><span class="lineno">  259</span><span class="stringliteral">        The contents of the base.js asset file.</span></div>
<div class="line"><span class="lineno">  260</span><span class="stringliteral">    :rtype: str</span></div>
<div class="line"><span class="lineno">  261</span><span class="stringliteral">    :returns:</span></div>
<div class="line"><span class="lineno">  262</span><span class="stringliteral">        The name of the function used to compute the throttling parameter.</span></div>
<div class="line"><span class="lineno">  263</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  264</span>    function_patterns = [</div>
<div class="line"><span class="lineno">  265</span>        <span class="comment"># https://github.com/ytdl-org/youtube-dl/issues/29326#issuecomment-865985377</span></div>
<div class="line"><span class="lineno">  266</span>        <span class="comment"># https://github.com/yt-dlp/yt-dlp/commit/48416bc4a8f1d5ff07d5977659cb8ece7640dcd8</span></div>
<div class="line"><span class="lineno">  267</span>        <span class="comment"># var Bpa = [iha];</span></div>
<div class="line"><span class="lineno">  268</span>        <span class="comment"># ...</span></div>
<div class="line"><span class="lineno">  269</span>        <span class="comment"># a.C &amp;&amp; (b = a.get(&quot;n&quot;)) &amp;&amp; (b = Bpa[0](b), a.set(&quot;n&quot;, b),</span></div>
<div class="line"><span class="lineno">  270</span>        <span class="comment"># Bpa.length || iha(&quot;&quot;)) }};</span></div>
<div class="line"><span class="lineno">  271</span>        <span class="comment"># In the above case, `iha` is the relevant function name</span></div>
<div class="line"><span class="lineno">  272</span>        <span class="stringliteral">r&#39;a\.[a-zA-Z]\s*&amp;&amp;\s*\&zwj;([a-z]\s*=\s*a\.get\&zwj;(&quot;n&quot;\&zwj;)\&zwj;)\s*&amp;&amp;.*?\|\|\s*([a-z]+)&#39;</span>,</div>
<div class="line"><span class="lineno">  273</span>        <span class="stringliteral">r&#39;\&zwj;([a-z]\s*=\s*([a-zA-Z0-9$]+)(\[\d+\])?\&zwj;([a-z]\&zwj;)&#39;</span>,</div>
<div class="line"><span class="lineno">  274</span>        <span class="stringliteral">r&#39;\&zwj;([a-z]\s*=\s*([a-zA-Z0-9$]+)(\[\d+\])\&zwj;([a-z]\&zwj;)&#39;</span>,</div>
<div class="line"><span class="lineno">  275</span>    ]</div>
<div class="line"><span class="lineno">  276</span>    logger.debug(<span class="stringliteral">&#39;Finding throttling function name&#39;</span>)</div>
<div class="line"><span class="lineno">  277</span>    <span class="keywordflow">for</span> pattern <span class="keywordflow">in</span> function_patterns:</div>
<div class="line"><span class="lineno">  278</span>        regex = re.compile(pattern)</div>
<div class="line"><span class="lineno">  279</span>        function_match = regex.search(js)</div>
<div class="line"><span class="lineno">  280</span>        <span class="keywordflow">if</span> function_match:</div>
<div class="line"><span class="lineno">  281</span>            logger.debug(<span class="stringliteral">&quot;finished regex search, matched: %s&quot;</span>, pattern)</div>
<div class="line"><span class="lineno">  282</span>            <span class="keywordflow">if</span> len(function_match.groups()) == 1:</div>
<div class="line"><span class="lineno">  283</span>                <span class="keywordflow">return</span> function_match.group(1)</div>
<div class="line"><span class="lineno">  284</span>            idx = function_match.group(2)</div>
<div class="line"><span class="lineno">  285</span>            <span class="keywordflow">if</span> idx:</div>
<div class="line"><span class="lineno">  286</span>                idx = idx.strip(<span class="stringliteral">&quot;[]&quot;</span>)</div>
<div class="line"><span class="lineno">  287</span>                array = re.search(</div>
<div class="line"><span class="lineno">  288</span>                    <span class="stringliteral">r&#39;var {nfunc}\s*=\s*(\[.+?\]);&#39;</span>.format(</div>
<div class="line"><span class="lineno">  289</span>                        nfunc=re.escape(function_match.group(1))),</div>
<div class="line"><span class="lineno">  290</span>                    js</div>
<div class="line"><span class="lineno">  291</span>                )</div>
<div class="line"><span class="lineno">  292</span>                <span class="keywordflow">if</span> array:</div>
<div class="line"><span class="lineno">  293</span>                    array = array.group(1).strip(<span class="stringliteral">&quot;[]&quot;</span>).split(<span class="stringliteral">&quot;,&quot;</span>)</div>
<div class="line"><span class="lineno">  294</span>                    array = [x.strip() <span class="keywordflow">for</span> x <span class="keywordflow">in</span> array]</div>
<div class="line"><span class="lineno">  295</span>                    <span class="keywordflow">return</span> array[int(idx)]</div>
<div class="line"><span class="lineno">  296</span> </div>
<div class="line"><span class="lineno">  297</span>    <span class="keywordflow">raise</span> RegexMatchError(</div>
<div class="line"><span class="lineno">  298</span>        caller=<span class="stringliteral">&quot;get_throttling_function_name&quot;</span>, pattern=<span class="stringliteral">&quot;multiple&quot;</span></div>
<div class="line"><span class="lineno">  299</span>    )</div>
<div class="line"><span class="lineno">  300</span> </div>
<div class="line"><span class="lineno">  301</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa76c5734d5d7867f268b8adec59482d9" name="aa76c5734d5d7867f268b8adec59482d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa76c5734d5d7867f268b8adec59482d9">&#9670;&#160;</a></span>get_throttling_plan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_throttling_plan </td>
          <td>(</td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>js</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Extract the "throttling plan".

The "throttling plan" is a list of tuples used for calling functions
in the c array. The first element of the tuple is the index of the
function to call, and any remaining elements of the tuple are arguments
to pass to that function.

:param str js:
    The contents of the base.js asset file.
:returns:
    The full function code for computing the throttlign parameter.
</pre> 
<p class="definition">Definition at line <a class="el" href="cipher_8py_source.html#l00393">393</a> of file <a class="el" href="cipher_8py_source.html">cipher.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  393</span><span class="keyword">def </span>get_throttling_plan(js: str):</div>
<div class="line"><span class="lineno">  394</span>    <span class="stringliteral">&quot;&quot;&quot;Extract the &quot;throttling plan&quot;.</span></div>
<div class="line"><span class="lineno">  395</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  396</span><span class="stringliteral">    The &quot;throttling plan&quot; is a list of tuples used for calling functions</span></div>
<div class="line"><span class="lineno">  397</span><span class="stringliteral">    in the c array. The first element of the tuple is the index of the</span></div>
<div class="line"><span class="lineno">  398</span><span class="stringliteral">    function to call, and any remaining elements of the tuple are arguments</span></div>
<div class="line"><span class="lineno">  399</span><span class="stringliteral">    to pass to that function.</span></div>
<div class="line"><span class="lineno">  400</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  401</span><span class="stringliteral">    :param str js:</span></div>
<div class="line"><span class="lineno">  402</span><span class="stringliteral">        The contents of the base.js asset file.</span></div>
<div class="line"><span class="lineno">  403</span><span class="stringliteral">    :returns:</span></div>
<div class="line"><span class="lineno">  404</span><span class="stringliteral">        The full function code for computing the throttlign parameter.</span></div>
<div class="line"><span class="lineno">  405</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  406</span>    raw_code = get_throttling_function_code(js)</div>
<div class="line"><span class="lineno">  407</span> </div>
<div class="line"><span class="lineno">  408</span>    transform_start = <span class="stringliteral">r&quot;try{&quot;</span></div>
<div class="line"><span class="lineno">  409</span>    plan_regex = re.compile(transform_start)</div>
<div class="line"><span class="lineno">  410</span>    match = plan_regex.search(raw_code)</div>
<div class="line"><span class="lineno">  411</span> </div>
<div class="line"><span class="lineno">  412</span>    transform_plan_raw = find_object_from_startpoint(raw_code, match.span()[1] - 1)</div>
<div class="line"><span class="lineno">  413</span> </div>
<div class="line"><span class="lineno">  414</span>    <span class="comment"># Steps are either c[x](c[y]) or c[x](c[y],c[z])</span></div>
<div class="line"><span class="lineno">  415</span>    step_start = <span class="stringliteral">r&quot;c\[(\d+)\]\&zwj;(c\[(\d+)\](,c(\[(\d+)\]))?\&zwj;)&quot;</span></div>
<div class="line"><span class="lineno">  416</span>    step_regex = re.compile(step_start)</div>
<div class="line"><span class="lineno">  417</span>    matches = step_regex.findall(transform_plan_raw)</div>
<div class="line"><span class="lineno">  418</span>    transform_steps = []</div>
<div class="line"><span class="lineno">  419</span>    <span class="keywordflow">for</span> match <span class="keywordflow">in</span> matches:</div>
<div class="line"><span class="lineno">  420</span>        <span class="keywordflow">if</span> match[4] != <span class="stringliteral">&#39;&#39;</span>:</div>
<div class="line"><span class="lineno">  421</span>            transform_steps.append((match[0],match[1],match[4]))</div>
<div class="line"><span class="lineno">  422</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  423</span>            transform_steps.append((match[0],match[1]))</div>
<div class="line"><span class="lineno">  424</span> </div>
<div class="line"><span class="lineno">  425</span>    <span class="keywordflow">return</span> transform_steps</div>
<div class="line"><span class="lineno">  426</span> </div>
<div class="line"><span class="lineno">  427</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3fd74464e1755dd6f8eb6e895b996b37" name="a3fd74464e1755dd6f8eb6e895b996b37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fd74464e1755dd6f8eb6e895b996b37">&#9670;&#160;</a></span>get_transform_map()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> Dict get_transform_map </td>
          <td>(</td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>js</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>var</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Build a transform function lookup.

Build a lookup table of obfuscated JavaScript function names to the
Python equivalents.

:param str js:
    The contents of the base.js asset file.
:param str var:
    The obfuscated variable name that stores an object with all functions
    that descrambles the signature.</pre> 
<p class="definition">Definition at line <a class="el" href="cipher_8py_source.html#l00232">232</a> of file <a class="el" href="cipher_8py_source.html">cipher.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  232</span><span class="keyword">def </span>get_transform_map(js: str, var: str) -&gt; Dict:</div>
<div class="line"><span class="lineno">  233</span>    <span class="stringliteral">&quot;&quot;&quot;Build a transform function lookup.</span></div>
<div class="line"><span class="lineno">  234</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  235</span><span class="stringliteral">    Build a lookup table of obfuscated JavaScript function names to the</span></div>
<div class="line"><span class="lineno">  236</span><span class="stringliteral">    Python equivalents.</span></div>
<div class="line"><span class="lineno">  237</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  238</span><span class="stringliteral">    :param str js:</span></div>
<div class="line"><span class="lineno">  239</span><span class="stringliteral">        The contents of the base.js asset file.</span></div>
<div class="line"><span class="lineno">  240</span><span class="stringliteral">    :param str var:</span></div>
<div class="line"><span class="lineno">  241</span><span class="stringliteral">        The obfuscated variable name that stores an object with all functions</span></div>
<div class="line"><span class="lineno">  242</span><span class="stringliteral">        that descrambles the signature.</span></div>
<div class="line"><span class="lineno">  243</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  244</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  245</span>    transform_object = get_transform_object(js, var)</div>
<div class="line"><span class="lineno">  246</span>    mapper = {}</div>
<div class="line"><span class="lineno">  247</span>    <span class="keywordflow">for</span> obj <span class="keywordflow">in</span> transform_object:</div>
<div class="line"><span class="lineno">  248</span>        <span class="comment"># AJ:function(a){a.reverse()} =&gt; AJ, function(a){a.reverse()}</span></div>
<div class="line"><span class="lineno">  249</span>        name, function = obj.split(<span class="stringliteral">&quot;:&quot;</span>, 1)</div>
<div class="line"><span class="lineno">  250</span>        fn = map_functions(function)</div>
<div class="line"><span class="lineno">  251</span>        mapper[name] = fn</div>
<div class="line"><span class="lineno">  252</span>    <span class="keywordflow">return</span> mapper</div>
<div class="line"><span class="lineno">  253</span> </div>
<div class="line"><span class="lineno">  254</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae3613a081ffc0609d716e7e828150889" name="ae3613a081ffc0609d716e7e828150889"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3613a081ffc0609d716e7e828150889">&#9670;&#160;</a></span>get_transform_object()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> List[str] get_transform_object </td>
          <td>(</td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>js</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>var</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Extract the "transform object".

The "transform object" contains the function definitions referenced in the
"transform plan". The ``var`` argument is the obfuscated variable name
which contains these functions, for example, given the function call
``DE.AJ(a,15)`` returned by the transform plan, "DE" would be the var.

:param str js:
    The contents of the base.js asset file.
:param str var:
    The obfuscated variable name that stores an object with all functions
    that descrambles the signature.

**Example**:

&gt;&gt;&gt; get_transform_object(js, 'DE')
['AJ:function(a){a.reverse()}',
'VR:function(a,b){a.splice(0,b)}',
'kT:function(a,b){var c=a[0];a[0]=a[b%a.length];a[b]=c}']</pre> 
<p class="definition">Definition at line <a class="el" href="cipher_8py_source.html#l00200">200</a> of file <a class="el" href="cipher_8py_source.html">cipher.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  200</span><span class="keyword">def </span>get_transform_object(js: str, var: str) -&gt; List[str]:</div>
<div class="line"><span class="lineno">  201</span>    <span class="stringliteral">&quot;&quot;&quot;Extract the &quot;transform object&quot;.</span></div>
<div class="line"><span class="lineno">  202</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  203</span><span class="stringliteral">    The &quot;transform object&quot; contains the function definitions referenced in the</span></div>
<div class="line"><span class="lineno">  204</span><span class="stringliteral">    &quot;transform plan&quot;. The ``var`` argument is the obfuscated variable name</span></div>
<div class="line"><span class="lineno">  205</span><span class="stringliteral">    which contains these functions, for example, given the function call</span></div>
<div class="line"><span class="lineno">  206</span><span class="stringliteral">    ``DE.AJ(a,15)`` returned by the transform plan, &quot;DE&quot; would be the var.</span></div>
<div class="line"><span class="lineno">  207</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  208</span><span class="stringliteral">    :param str js:</span></div>
<div class="line"><span class="lineno">  209</span><span class="stringliteral">        The contents of the base.js asset file.</span></div>
<div class="line"><span class="lineno">  210</span><span class="stringliteral">    :param str var:</span></div>
<div class="line"><span class="lineno">  211</span><span class="stringliteral">        The obfuscated variable name that stores an object with all functions</span></div>
<div class="line"><span class="lineno">  212</span><span class="stringliteral">        that descrambles the signature.</span></div>
<div class="line"><span class="lineno">  213</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  214</span><span class="stringliteral">    **Example**:</span></div>
<div class="line"><span class="lineno">  215</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  216</span><span class="stringliteral">    &gt;&gt;&gt; get_transform_object(js, &#39;DE&#39;)</span></div>
<div class="line"><span class="lineno">  217</span><span class="stringliteral">    [&#39;AJ:function(a){a.reverse()}&#39;,</span></div>
<div class="line"><span class="lineno">  218</span><span class="stringliteral">    &#39;VR:function(a,b){a.splice(0,b)}&#39;,</span></div>
<div class="line"><span class="lineno">  219</span><span class="stringliteral">    &#39;kT:function(a,b){var c=a[0];a[0]=a[b%a.length];a[b]=c}&#39;]</span></div>
<div class="line"><span class="lineno">  220</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  221</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  222</span>    pattern = <span class="stringliteral">r&quot;var %s={(.*?)};&quot;</span> % re.escape(var)</div>
<div class="line"><span class="lineno">  223</span>    logger.debug(<span class="stringliteral">&quot;getting transform object&quot;</span>)</div>
<div class="line"><span class="lineno">  224</span>    regex = re.compile(pattern, flags=re.DOTALL)</div>
<div class="line"><span class="lineno">  225</span>    transform_match = regex.search(js)</div>
<div class="line"><span class="lineno">  226</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> transform_match:</div>
<div class="line"><span class="lineno">  227</span>        <span class="keywordflow">raise</span> RegexMatchError(caller=<span class="stringliteral">&quot;get_transform_object&quot;</span>, pattern=pattern)</div>
<div class="line"><span class="lineno">  228</span> </div>
<div class="line"><span class="lineno">  229</span>    <span class="keywordflow">return</span> transform_match.group(1).replace(<span class="stringliteral">&quot;\n&quot;</span>, <span class="stringliteral">&quot; &quot;</span>).split(<span class="stringliteral">&quot;, &quot;</span>)</div>
<div class="line"><span class="lineno">  230</span> </div>
<div class="line"><span class="lineno">  231</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2c848ede2c7ea7329373b341b87d1c8d" name="a2c848ede2c7ea7329373b341b87d1c8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c848ede2c7ea7329373b341b87d1c8d">&#9670;&#160;</a></span>get_transform_plan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> List[str] get_transform_plan </td>
          <td>(</td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>js</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Extract the "transform plan".

The "transform plan" is the functions that the ciphered signature is
cycled through to obtain the actual signature.

:param str js:
    The contents of the base.js asset file.

**Example**:

['DE.AJ(a,15)',
'DE.VR(a,3)',
'DE.AJ(a,51)',
'DE.VR(a,3)',
'DE.kT(a,51)',
'DE.kT(a,8)',
'DE.VR(a,3)',
'DE.kT(a,21)']
</pre> 
<p class="definition">Definition at line <a class="el" href="cipher_8py_source.html#l00174">174</a> of file <a class="el" href="cipher_8py_source.html">cipher.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  174</span><span class="keyword">def </span>get_transform_plan(js: str) -&gt; List[str]:</div>
<div class="line"><span class="lineno">  175</span>    <span class="stringliteral">&quot;&quot;&quot;Extract the &quot;transform plan&quot;.</span></div>
<div class="line"><span class="lineno">  176</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  177</span><span class="stringliteral">    The &quot;transform plan&quot; is the functions that the ciphered signature is</span></div>
<div class="line"><span class="lineno">  178</span><span class="stringliteral">    cycled through to obtain the actual signature.</span></div>
<div class="line"><span class="lineno">  179</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  180</span><span class="stringliteral">    :param str js:</span></div>
<div class="line"><span class="lineno">  181</span><span class="stringliteral">        The contents of the base.js asset file.</span></div>
<div class="line"><span class="lineno">  182</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  183</span><span class="stringliteral">    **Example**:</span></div>
<div class="line"><span class="lineno">  184</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  185</span><span class="stringliteral">    [&#39;DE.AJ(a,15)&#39;,</span></div>
<div class="line"><span class="lineno">  186</span><span class="stringliteral">    &#39;DE.VR(a,3)&#39;,</span></div>
<div class="line"><span class="lineno">  187</span><span class="stringliteral">    &#39;DE.AJ(a,51)&#39;,</span></div>
<div class="line"><span class="lineno">  188</span><span class="stringliteral">    &#39;DE.VR(a,3)&#39;,</span></div>
<div class="line"><span class="lineno">  189</span><span class="stringliteral">    &#39;DE.kT(a,51)&#39;,</span></div>
<div class="line"><span class="lineno">  190</span><span class="stringliteral">    &#39;DE.kT(a,8)&#39;,</span></div>
<div class="line"><span class="lineno">  191</span><span class="stringliteral">    &#39;DE.VR(a,3)&#39;,</span></div>
<div class="line"><span class="lineno">  192</span><span class="stringliteral">    &#39;DE.kT(a,21)&#39;]</span></div>
<div class="line"><span class="lineno">  193</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  194</span>    name = re.escape(get_initial_function_name(js))</div>
<div class="line"><span class="lineno">  195</span>    pattern = <span class="stringliteral">r&quot;%s=function\&zwj;(\w\&zwj;){[a-z=\.\&zwj;(\&quot;\&zwj;)]*;(.*);(?:.+)}&quot;</span> % name</div>
<div class="line"><span class="lineno">  196</span>    logger.debug(<span class="stringliteral">&quot;getting transform plan&quot;</span>)</div>
<div class="line"><span class="lineno">  197</span>    <span class="keywordflow">return</span> regex_search(pattern, js, group=1).split(<span class="stringliteral">&quot;;&quot;</span>)</div>
<div class="line"><span class="lineno">  198</span> </div>
<div class="line"><span class="lineno">  199</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a86bf2eb6e9055b507bb59e696eda7113" name="a86bf2eb6e9055b507bb59e696eda7113"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86bf2eb6e9055b507bb59e696eda7113">&#9670;&#160;</a></span>js_splice()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">js_splice </td>
          <td>(</td>
          <td class="paramtype">list</td>          <td class="paramname"><span class="paramname"><em>arr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>start</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>delete_count</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*</td>          <td class="paramname"><span class="paramname"><em>items</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Implementation of javascript's splice function.

:param list arr:
    Array to splice
:param int start:
    Index at which to start changing the array
:param int delete_count:
    Number of elements to delete from the array
:param *items:
    Items to add to the array

Reference: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice  # noqa:E501
</pre> 
<p class="definition">Definition at line <a class="el" href="cipher_8py_source.html#l00633">633</a> of file <a class="el" href="cipher_8py_source.html">cipher.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  633</span><span class="keyword">def </span>js_splice(arr: list, start: int, delete_count=<span class="keywordtype">None</span>, *items):</div>
<div class="line"><span class="lineno">  634</span>    <span class="stringliteral">&quot;&quot;&quot;Implementation of javascript&#39;s splice function.</span></div>
<div class="line"><span class="lineno">  635</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  636</span><span class="stringliteral">    :param list arr:</span></div>
<div class="line"><span class="lineno">  637</span><span class="stringliteral">        Array to splice</span></div>
<div class="line"><span class="lineno">  638</span><span class="stringliteral">    :param int start:</span></div>
<div class="line"><span class="lineno">  639</span><span class="stringliteral">        Index at which to start changing the array</span></div>
<div class="line"><span class="lineno">  640</span><span class="stringliteral">    :param int delete_count:</span></div>
<div class="line"><span class="lineno">  641</span><span class="stringliteral">        Number of elements to delete from the array</span></div>
<div class="line"><span class="lineno">  642</span><span class="stringliteral">    :param *items:</span></div>
<div class="line"><span class="lineno">  643</span><span class="stringliteral">        Items to add to the array</span></div>
<div class="line"><span class="lineno">  644</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  645</span><span class="stringliteral">    Reference: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice  # noqa:E501</span></div>
<div class="line"><span class="lineno">  646</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  647</span>    <span class="comment"># Special conditions for start value</span></div>
<div class="line"><span class="lineno">  648</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  649</span>        <span class="keywordflow">if</span> start &gt; len(arr):</div>
<div class="line"><span class="lineno">  650</span>            start = len(arr)</div>
<div class="line"><span class="lineno">  651</span>        <span class="comment"># If start is negative, count backwards from end</span></div>
<div class="line"><span class="lineno">  652</span>        <span class="keywordflow">if</span> start &lt; 0:</div>
<div class="line"><span class="lineno">  653</span>            start = len(arr) - start</div>
<div class="line"><span class="lineno">  654</span>    <span class="keywordflow">except</span> TypeError:</div>
<div class="line"><span class="lineno">  655</span>        <span class="comment"># Non-integer start values are treated as 0 in js</span></div>
<div class="line"><span class="lineno">  656</span>        start = 0</div>
<div class="line"><span class="lineno">  657</span> </div>
<div class="line"><span class="lineno">  658</span>    <span class="comment"># Special condition when delete_count is greater than remaining elements</span></div>
<div class="line"><span class="lineno">  659</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> delete_count <span class="keywordflow">or</span> delete_count &gt;= len(arr) - start:</div>
<div class="line"><span class="lineno">  660</span>        delete_count = len(arr) - start  <span class="comment"># noqa: N806</span></div>
<div class="line"><span class="lineno">  661</span> </div>
<div class="line"><span class="lineno">  662</span>    deleted_elements = arr[start:start + delete_count]</div>
<div class="line"><span class="lineno">  663</span> </div>
<div class="line"><span class="lineno">  664</span>    <span class="comment"># Splice appropriately.</span></div>
<div class="line"><span class="lineno">  665</span>    new_arr = arr[:start] + list(items) + arr[start + delete_count:]</div>
<div class="line"><span class="lineno">  666</span> </div>
<div class="line"><span class="lineno">  667</span>    <span class="comment"># Replace contents of input array</span></div>
<div class="line"><span class="lineno">  668</span>    arr.clear()</div>
<div class="line"><span class="lineno">  669</span>    <span class="keywordflow">for</span> el <span class="keywordflow">in</span> new_arr:</div>
<div class="line"><span class="lineno">  670</span>        arr.append(el)</div>
<div class="line"><span class="lineno">  671</span> </div>
<div class="line"><span class="lineno">  672</span>    <span class="keywordflow">return</span> deleted_elements</div>
<div class="line"><span class="lineno">  673</span> </div>
<div class="line"><span class="lineno">  674</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0b7478128b5ee0c01c58d31b0e30e1d7" name="a0b7478128b5ee0c01c58d31b0e30e1d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b7478128b5ee0c01c58d31b0e30e1d7">&#9670;&#160;</a></span>map_functions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> Callable map_functions </td>
          <td>(</td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>js_func</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">For a given JavaScript transform function, return the Python equivalent.

:param str js_func:
    The JavaScript version of the transform function.
</pre> 
<p class="definition">Definition at line <a class="el" href="cipher_8py_source.html#l00675">675</a> of file <a class="el" href="cipher_8py_source.html">cipher.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  675</span><span class="keyword">def </span>map_functions(js_func: str) -&gt; Callable:</div>
<div class="line"><span class="lineno">  676</span>    <span class="stringliteral">&quot;&quot;&quot;For a given JavaScript transform function, return the Python equivalent.</span></div>
<div class="line"><span class="lineno">  677</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  678</span><span class="stringliteral">    :param str js_func:</span></div>
<div class="line"><span class="lineno">  679</span><span class="stringliteral">        The JavaScript version of the transform function.</span></div>
<div class="line"><span class="lineno">  680</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  681</span>    mapper = (</div>
<div class="line"><span class="lineno">  682</span>        <span class="comment"># function(a){a.reverse()}</span></div>
<div class="line"><span class="lineno">  683</span>        (<span class="stringliteral">r&quot;{\w\.reverse\&zwj;(\&zwj;)}&quot;</span>, reverse),</div>
<div class="line"><span class="lineno">  684</span>        <span class="comment"># function(a,b){a.splice(0,b)}</span></div>
<div class="line"><span class="lineno">  685</span>        (<span class="stringliteral">r&quot;{\w\.splice\&zwj;(0,\w\&zwj;)}&quot;</span>, splice),</div>
<div class="line"><span class="lineno">  686</span>        <span class="comment"># function(a,b){var c=a[0];a[0]=a[b%a.length];a[b]=c}</span></div>
<div class="line"><span class="lineno">  687</span>        (<span class="stringliteral">r&quot;{var\s\w=\w\[0\];\w\[0\]=\w\[\w\%\w.length\];\w\[\w\]=\w}&quot;</span>, swap),</div>
<div class="line"><span class="lineno">  688</span>        <span class="comment"># function(a,b){var c=a[0];a[0]=a[b%a.length];a[b%a.length]=c}</span></div>
<div class="line"><span class="lineno">  689</span>        (</div>
<div class="line"><span class="lineno">  690</span>            <span class="stringliteral">r&quot;{var\s\w=\w\[0\];\w\[0\]=\w\[\w\%\w.length\];\w\[\w\%\w.length\]=\w}&quot;</span>,</div>
<div class="line"><span class="lineno">  691</span>            swap,</div>
<div class="line"><span class="lineno">  692</span>        ),</div>
<div class="line"><span class="lineno">  693</span>    )</div>
<div class="line"><span class="lineno">  694</span> </div>
<div class="line"><span class="lineno">  695</span>    <span class="keywordflow">for</span> pattern, fn <span class="keywordflow">in</span> mapper:</div>
<div class="line"><span class="lineno">  696</span>        <span class="keywordflow">if</span> re.search(pattern, js_func):</div>
<div class="line"><span class="lineno">  697</span>            <span class="keywordflow">return</span> fn</div>
<div class="line"><span class="lineno">  698</span>    <span class="keywordflow">raise</span> RegexMatchError(caller=<span class="stringliteral">&quot;map_functions&quot;</span>, pattern=<span class="stringliteral">&quot;multiple&quot;</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2b8cd6b9c8bba9beceb0677bb04b8efc" name="a2b8cd6b9c8bba9beceb0677bb04b8efc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b8cd6b9c8bba9beceb0677bb04b8efc">&#9670;&#160;</a></span>reverse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">reverse </td>
          <td>(</td>
          <td class="paramtype">List</td>          <td class="paramname"><span class="paramname"><em>arr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[Any]</td>          <td class="paramname"><span class="paramname"><em>_</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Reverse elements in a list.

This function is equivalent to:

.. code-block:: javascript

    function(a, b) { a.reverse() }

This method takes an unused ``b`` variable as their transform functions
universally sent two arguments.

**Example**:

&gt;&gt;&gt; reverse([1, 2, 3, 4])
[4, 3, 2, 1]
</pre> 
<p class="definition">Definition at line <a class="el" href="cipher_8py_source.html#l00428">428</a> of file <a class="el" href="cipher_8py_source.html">cipher.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  428</span><span class="keyword">def </span>reverse(arr: List, _: Optional[Any]):</div>
<div class="line"><span class="lineno">  429</span>    <span class="stringliteral">&quot;&quot;&quot;Reverse elements in a list.</span></div>
<div class="line"><span class="lineno">  430</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  431</span><span class="stringliteral">    This function is equivalent to:</span></div>
<div class="line"><span class="lineno">  432</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  433</span><span class="stringliteral">    .. code-block:: javascript</span></div>
<div class="line"><span class="lineno">  434</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  435</span><span class="stringliteral">        function(a, b) { a.reverse() }</span></div>
<div class="line"><span class="lineno">  436</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  437</span><span class="stringliteral">    This method takes an unused ``b`` variable as their transform functions</span></div>
<div class="line"><span class="lineno">  438</span><span class="stringliteral">    universally sent two arguments.</span></div>
<div class="line"><span class="lineno">  439</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  440</span><span class="stringliteral">    **Example**:</span></div>
<div class="line"><span class="lineno">  441</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  442</span><span class="stringliteral">    &gt;&gt;&gt; reverse([1, 2, 3, 4])</span></div>
<div class="line"><span class="lineno">  443</span><span class="stringliteral">    [4, 3, 2, 1]</span></div>
<div class="line"><span class="lineno">  444</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  445</span>    <span class="keywordflow">return</span> arr[::-1]</div>
<div class="line"><span class="lineno">  446</span> </div>
<div class="line"><span class="lineno">  447</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a69ddb2b7c057b7d5eba76507569da123" name="a69ddb2b7c057b7d5eba76507569da123"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69ddb2b7c057b7d5eba76507569da123">&#9670;&#160;</a></span>splice()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">splice </td>
          <td>(</td>
          <td class="paramtype">List</td>          <td class="paramname"><span class="paramname"><em>arr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>b</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Add/remove items to/from a list.

This function is equivalent to:

.. code-block:: javascript

    function(a, b) { a.splice(0, b) }

**Example**:

&gt;&gt;&gt; splice([1, 2, 3, 4], 2)
[1, 2]
</pre> 
<p class="definition">Definition at line <a class="el" href="cipher_8py_source.html#l00448">448</a> of file <a class="el" href="cipher_8py_source.html">cipher.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  448</span><span class="keyword">def </span>splice(arr: List, b: int):</div>
<div class="line"><span class="lineno">  449</span>    <span class="stringliteral">&quot;&quot;&quot;Add/remove items to/from a list.</span></div>
<div class="line"><span class="lineno">  450</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  451</span><span class="stringliteral">    This function is equivalent to:</span></div>
<div class="line"><span class="lineno">  452</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  453</span><span class="stringliteral">    .. code-block:: javascript</span></div>
<div class="line"><span class="lineno">  454</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  455</span><span class="stringliteral">        function(a, b) { a.splice(0, b) }</span></div>
<div class="line"><span class="lineno">  456</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  457</span><span class="stringliteral">    **Example**:</span></div>
<div class="line"><span class="lineno">  458</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  459</span><span class="stringliteral">    &gt;&gt;&gt; splice([1, 2, 3, 4], 2)</span></div>
<div class="line"><span class="lineno">  460</span><span class="stringliteral">    [1, 2]</span></div>
<div class="line"><span class="lineno">  461</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  462</span>    <span class="keywordflow">return</span> arr[b:]</div>
<div class="line"><span class="lineno">  463</span> </div>
<div class="line"><span class="lineno">  464</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aff8711fbb5a3e75a1267da95574bfcdc" name="aff8711fbb5a3e75a1267da95574bfcdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff8711fbb5a3e75a1267da95574bfcdc">&#9670;&#160;</a></span>swap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">swap </td>
          <td>(</td>
          <td class="paramtype">List</td>          <td class="paramname"><span class="paramname"><em>arr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>b</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Swap positions at b modulus the list length.

This function is equivalent to:

.. code-block:: javascript

    function(a, b) { var c=a[0];a[0]=a[b%a.length];a[b]=c }

**Example**:

&gt;&gt;&gt; swap([1, 2, 3, 4], 2)
[3, 2, 1, 4]
</pre> 
<p class="definition">Definition at line <a class="el" href="cipher_8py_source.html#l00465">465</a> of file <a class="el" href="cipher_8py_source.html">cipher.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  465</span><span class="keyword">def </span>swap(arr: List, b: int):</div>
<div class="line"><span class="lineno">  466</span>    <span class="stringliteral">&quot;&quot;&quot;Swap positions at b modulus the list length.</span></div>
<div class="line"><span class="lineno">  467</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  468</span><span class="stringliteral">    This function is equivalent to:</span></div>
<div class="line"><span class="lineno">  469</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  470</span><span class="stringliteral">    .. code-block:: javascript</span></div>
<div class="line"><span class="lineno">  471</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  472</span><span class="stringliteral">        function(a, b) { var c=a[0];a[0]=a[b%a.length];a[b]=c }</span></div>
<div class="line"><span class="lineno">  473</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  474</span><span class="stringliteral">    **Example**:</span></div>
<div class="line"><span class="lineno">  475</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  476</span><span class="stringliteral">    &gt;&gt;&gt; swap([1, 2, 3, 4], 2)</span></div>
<div class="line"><span class="lineno">  477</span><span class="stringliteral">    [3, 2, 1, 4]</span></div>
<div class="line"><span class="lineno">  478</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  479</span>    r = b % len(arr)</div>
<div class="line"><span class="lineno">  480</span>    <span class="keywordflow">return</span> list(chain([arr[r]], arr[1:r], [arr[0]], arr[r + 1 :]))</div>
<div class="line"><span class="lineno">  481</span> </div>
<div class="line"><span class="lineno">  482</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a11d25cb8b076850ad41709906710d518" name="a11d25cb8b076850ad41709906710d518"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11d25cb8b076850ad41709906710d518">&#9670;&#160;</a></span>throttling_cipher_function()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">throttling_cipher_function </td>
          <td>(</td>
          <td class="paramtype">list</td>          <td class="paramname"><span class="paramname"><em>d</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>e</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This ciphers d with e to generate a new list.

In the javascript, the operation is as follows:
var h = [A-Za-z0-9-_], f = 96;  // simplified from switch-case loop
d.forEach(
    function(l,m,n){
        this.push(
            n[m]=h[
                (h.indexOf(l)-h.indexOf(this[m])+m-32+f--)%h.length
            ]
        )
    },
    e.split("")
)
</pre> 
<p class="definition">Definition at line <a class="el" href="cipher_8py_source.html#l00524">524</a> of file <a class="el" href="cipher_8py_source.html">cipher.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  524</span><span class="keyword">def </span>throttling_cipher_function(d: list, e: str):</div>
<div class="line"><span class="lineno">  525</span>    <span class="stringliteral">&quot;&quot;&quot;This ciphers d with e to generate a new list.</span></div>
<div class="line"><span class="lineno">  526</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  527</span><span class="stringliteral">    In the javascript, the operation is as follows:</span></div>
<div class="line"><span class="lineno">  528</span><span class="stringliteral">    var h = [A-Za-z0-9-_], f = 96;  // simplified from switch-case loop</span></div>
<div class="line"><span class="lineno">  529</span><span class="stringliteral">    d.forEach(</span></div>
<div class="line"><span class="lineno">  530</span><span class="stringliteral">        function(l,m,n){</span></div>
<div class="line"><span class="lineno">  531</span><span class="stringliteral">            this.push(</span></div>
<div class="line"><span class="lineno">  532</span><span class="stringliteral">                n[m]=h[</span></div>
<div class="line"><span class="lineno">  533</span><span class="stringliteral">                    (h.indexOf(l)-h.indexOf(this[m])+m-32+f--)%h.length</span></div>
<div class="line"><span class="lineno">  534</span><span class="stringliteral">                ]</span></div>
<div class="line"><span class="lineno">  535</span><span class="stringliteral">            )</span></div>
<div class="line"><span class="lineno">  536</span><span class="stringliteral">        },</span></div>
<div class="line"><span class="lineno">  537</span><span class="stringliteral">        e.split(&quot;&quot;)</span></div>
<div class="line"><span class="lineno">  538</span><span class="stringliteral">    )</span></div>
<div class="line"><span class="lineno">  539</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  540</span>    h = list(<span class="stringliteral">&#39;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_&#39;</span>)</div>
<div class="line"><span class="lineno">  541</span>    f = 96</div>
<div class="line"><span class="lineno">  542</span>    <span class="comment"># by naming it &quot;this&quot; we can more closely reflect the js</span></div>
<div class="line"><span class="lineno">  543</span>    this = list(e)</div>
<div class="line"><span class="lineno">  544</span> </div>
<div class="line"><span class="lineno">  545</span>    <span class="comment"># This is so we don&#39;t run into weirdness with enumerate while</span></div>
<div class="line"><span class="lineno">  546</span>    <span class="comment">#  we change the input list</span></div>
<div class="line"><span class="lineno">  547</span>    copied_list = d.copy()</div>
<div class="line"><span class="lineno">  548</span> </div>
<div class="line"><span class="lineno">  549</span>    <span class="keywordflow">for</span> m, l <span class="keywordflow">in</span> enumerate(copied_list):</div>
<div class="line"><span class="lineno">  550</span>        bracket_val = (h.index(l) - h.index(this[m]) + m - 32 + f) % len(h)</div>
<div class="line"><span class="lineno">  551</span>        this.append(</div>
<div class="line"><span class="lineno">  552</span>            h[bracket_val]</div>
<div class="line"><span class="lineno">  553</span>        )</div>
<div class="line"><span class="lineno">  554</span>        d[m] = h[bracket_val]</div>
<div class="line"><span class="lineno">  555</span>        f -= 1</div>
<div class="line"><span class="lineno">  556</span> </div>
<div class="line"><span class="lineno">  557</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a890dfc6b795bf3044235885d0bab917a" name="a890dfc6b795bf3044235885d0bab917a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a890dfc6b795bf3044235885d0bab917a">&#9670;&#160;</a></span>throttling_mod_func()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">throttling_mod_func </td>
          <td>(</td>
          <td class="paramtype">list</td>          <td class="paramname"><span class="paramname"><em>d</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>e</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Perform the modular function from the throttling array functions.

In the javascript, the modular operation is as follows:
e = (e % d.length + d.length) % d.length

We simply translate this to python here.
</pre> 
<p class="definition">Definition at line <a class="el" href="cipher_8py_source.html#l00500">500</a> of file <a class="el" href="cipher_8py_source.html">cipher.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  500</span><span class="keyword">def </span>throttling_mod_func(d: list, e: int):</div>
<div class="line"><span class="lineno">  501</span>    <span class="stringliteral">&quot;&quot;&quot;Perform the modular function from the throttling array functions.</span></div>
<div class="line"><span class="lineno">  502</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  503</span><span class="stringliteral">    In the javascript, the modular operation is as follows:</span></div>
<div class="line"><span class="lineno">  504</span><span class="stringliteral">    e = (e % d.length + d.length) % d.length</span></div>
<div class="line"><span class="lineno">  505</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  506</span><span class="stringliteral">    We simply translate this to python here.</span></div>
<div class="line"><span class="lineno">  507</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  508</span>    <span class="keywordflow">return</span> (e % len(d) + len(d)) % len(d)</div>
<div class="line"><span class="lineno">  509</span> </div>
<div class="line"><span class="lineno">  510</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a78fc6f6225e286385f6d5acfaf9514c5" name="a78fc6f6225e286385f6d5acfaf9514c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78fc6f6225e286385f6d5acfaf9514c5">&#9670;&#160;</a></span>throttling_nested_splice()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">throttling_nested_splice </td>
          <td>(</td>
          <td class="paramtype">list</td>          <td class="paramname"><span class="paramname"><em>d</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>e</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Nested splice function in throttling js.

In the javascript, the operation is as follows:
function(d,e){
    e=(e%d.length+d.length)%d.length;
    d.splice(
        0,
        1,
        d.splice(
            e,
            1,
            d[0]
        )[0]
    )
}

While testing, all this seemed to do is swap element 0 and e,
but the actual process is preserved in case there was an edge
case that was not considered.
</pre> 
<p class="definition">Definition at line <a class="el" href="cipher_8py_source.html#l00558">558</a> of file <a class="el" href="cipher_8py_source.html">cipher.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  558</span><span class="keyword">def </span>throttling_nested_splice(d: list, e: int):</div>
<div class="line"><span class="lineno">  559</span>    <span class="stringliteral">&quot;&quot;&quot;Nested splice function in throttling js.</span></div>
<div class="line"><span class="lineno">  560</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  561</span><span class="stringliteral">    In the javascript, the operation is as follows:</span></div>
<div class="line"><span class="lineno">  562</span><span class="stringliteral">    function(d,e){</span></div>
<div class="line"><span class="lineno">  563</span><span class="stringliteral">        e=(e%d.length+d.length)%d.length;</span></div>
<div class="line"><span class="lineno">  564</span><span class="stringliteral">        d.splice(</span></div>
<div class="line"><span class="lineno">  565</span><span class="stringliteral">            0,</span></div>
<div class="line"><span class="lineno">  566</span><span class="stringliteral">            1,</span></div>
<div class="line"><span class="lineno">  567</span><span class="stringliteral">            d.splice(</span></div>
<div class="line"><span class="lineno">  568</span><span class="stringliteral">                e,</span></div>
<div class="line"><span class="lineno">  569</span><span class="stringliteral">                1,</span></div>
<div class="line"><span class="lineno">  570</span><span class="stringliteral">                d[0]</span></div>
<div class="line"><span class="lineno">  571</span><span class="stringliteral">            )[0]</span></div>
<div class="line"><span class="lineno">  572</span><span class="stringliteral">        )</span></div>
<div class="line"><span class="lineno">  573</span><span class="stringliteral">    }</span></div>
<div class="line"><span class="lineno">  574</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  575</span><span class="stringliteral">    While testing, all this seemed to do is swap element 0 and e,</span></div>
<div class="line"><span class="lineno">  576</span><span class="stringliteral">    but the actual process is preserved in case there was an edge</span></div>
<div class="line"><span class="lineno">  577</span><span class="stringliteral">    case that was not considered.</span></div>
<div class="line"><span class="lineno">  578</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  579</span>    e = throttling_mod_func(d, e)</div>
<div class="line"><span class="lineno">  580</span>    inner_splice = js_splice(</div>
<div class="line"><span class="lineno">  581</span>        d,</div>
<div class="line"><span class="lineno">  582</span>        e,</div>
<div class="line"><span class="lineno">  583</span>        1,</div>
<div class="line"><span class="lineno">  584</span>        d[0]</div>
<div class="line"><span class="lineno">  585</span>    )</div>
<div class="line"><span class="lineno">  586</span>    js_splice(</div>
<div class="line"><span class="lineno">  587</span>        d,</div>
<div class="line"><span class="lineno">  588</span>        0,</div>
<div class="line"><span class="lineno">  589</span>        1,</div>
<div class="line"><span class="lineno">  590</span>        inner_splice[0]</div>
<div class="line"><span class="lineno">  591</span>    )</div>
<div class="line"><span class="lineno">  592</span> </div>
<div class="line"><span class="lineno">  593</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aaa10e5d13c108fc4b8295ae46107cf95" name="aaa10e5d13c108fc4b8295ae46107cf95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa10e5d13c108fc4b8295ae46107cf95">&#9670;&#160;</a></span>throttling_prepend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">throttling_prepend </td>
          <td>(</td>
          <td class="paramtype">list</td>          <td class="paramname"><span class="paramname"><em>d</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>e</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">In the javascript, the operation is as follows:
function(d,e){
    e=(e%d.length+d.length)%d.length;
    d.splice(-e).reverse().forEach(
        function(f){
            d.unshift(f)
        }
    )
}

Effectively, this moves the last e elements of d to the beginning.
</pre> 
<p class="definition">Definition at line <a class="el" href="cipher_8py_source.html#l00594">594</a> of file <a class="el" href="cipher_8py_source.html">cipher.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  594</span><span class="keyword">def </span>throttling_prepend(d: list, e: int):</div>
<div class="line"><span class="lineno">  595</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  596</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  597</span><span class="stringliteral">    In the javascript, the operation is as follows:</span></div>
<div class="line"><span class="lineno">  598</span><span class="stringliteral">    function(d,e){</span></div>
<div class="line"><span class="lineno">  599</span><span class="stringliteral">        e=(e%d.length+d.length)%d.length;</span></div>
<div class="line"><span class="lineno">  600</span><span class="stringliteral">        d.splice(-e).reverse().forEach(</span></div>
<div class="line"><span class="lineno">  601</span><span class="stringliteral">            function(f){</span></div>
<div class="line"><span class="lineno">  602</span><span class="stringliteral">                d.unshift(f)</span></div>
<div class="line"><span class="lineno">  603</span><span class="stringliteral">            }</span></div>
<div class="line"><span class="lineno">  604</span><span class="stringliteral">        )</span></div>
<div class="line"><span class="lineno">  605</span><span class="stringliteral">    }</span></div>
<div class="line"><span class="lineno">  606</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  607</span><span class="stringliteral">    Effectively, this moves the last e elements of d to the beginning.</span></div>
<div class="line"><span class="lineno">  608</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  609</span>    start_len = len(d)</div>
<div class="line"><span class="lineno">  610</span>    <span class="comment"># First, calculate e</span></div>
<div class="line"><span class="lineno">  611</span>    e = throttling_mod_func(d, e)</div>
<div class="line"><span class="lineno">  612</span> </div>
<div class="line"><span class="lineno">  613</span>    <span class="comment"># Then do the prepending</span></div>
<div class="line"><span class="lineno">  614</span>    new_arr = d[-e:] + d[:-e]</div>
<div class="line"><span class="lineno">  615</span> </div>
<div class="line"><span class="lineno">  616</span>    <span class="comment"># And update the input list</span></div>
<div class="line"><span class="lineno">  617</span>    d.clear()</div>
<div class="line"><span class="lineno">  618</span>    <span class="keywordflow">for</span> el <span class="keywordflow">in</span> new_arr:</div>
<div class="line"><span class="lineno">  619</span>        d.append(el)</div>
<div class="line"><span class="lineno">  620</span> </div>
<div class="line"><span class="lineno">  621</span>    end_len = len(d)</div>
<div class="line"><span class="lineno">  622</span>    <span class="keyword">assert</span> start_len == end_len</div>
<div class="line"><span class="lineno">  623</span> </div>
<div class="line"><span class="lineno">  624</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad9a96f8364ec62f17ca730a033e5e9d9" name="ad9a96f8364ec62f17ca730a033e5e9d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9a96f8364ec62f17ca730a033e5e9d9">&#9670;&#160;</a></span>throttling_push()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">throttling_push </td>
          <td>(</td>
          <td class="paramtype">list</td>          <td class="paramname"><span class="paramname"><em>d</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Any</td>          <td class="paramname"><span class="paramname"><em>e</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Pushes an element onto a list.</pre> 
<p class="definition">Definition at line <a class="el" href="cipher_8py_source.html#l00495">495</a> of file <a class="el" href="cipher_8py_source.html">cipher.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  495</span><span class="keyword">def </span>throttling_push(d: list, e: Any):</div>
<div class="line"><span class="lineno">  496</span>    <span class="stringliteral">&quot;&quot;&quot;Pushes an element onto a list.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  497</span>    d.append(e)</div>
<div class="line"><span class="lineno">  498</span> </div>
<div class="line"><span class="lineno">  499</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a067efe5cec339fe573fe3bb9b92693a9" name="a067efe5cec339fe573fe3bb9b92693a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a067efe5cec339fe573fe3bb9b92693a9">&#9670;&#160;</a></span>throttling_reverse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">throttling_reverse </td>
          <td>(</td>
          <td class="paramtype">list</td>          <td class="paramname"><span class="paramname"><em>arr</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Reverses the input list.

Needs to do an in-place reversal so that the passed list gets changed.
To accomplish this, we create a reversed copy, and then change each
indvidual element.
</pre> 
<p class="definition">Definition at line <a class="el" href="cipher_8py_source.html#l00483">483</a> of file <a class="el" href="cipher_8py_source.html">cipher.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  483</span><span class="keyword">def </span>throttling_reverse(arr: list):</div>
<div class="line"><span class="lineno">  484</span>    <span class="stringliteral">&quot;&quot;&quot;Reverses the input list.</span></div>
<div class="line"><span class="lineno">  485</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  486</span><span class="stringliteral">    Needs to do an in-place reversal so that the passed list gets changed.</span></div>
<div class="line"><span class="lineno">  487</span><span class="stringliteral">    To accomplish this, we create a reversed copy, and then change each</span></div>
<div class="line"><span class="lineno">  488</span><span class="stringliteral">    indvidual element.</span></div>
<div class="line"><span class="lineno">  489</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  490</span>    reverse_copy = arr.copy()[::-1]</div>
<div class="line"><span class="lineno">  491</span>    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(len(reverse_copy)):</div>
<div class="line"><span class="lineno">  492</span>        arr[i] = reverse_copy[i]</div>
<div class="line"><span class="lineno">  493</span> </div>
<div class="line"><span class="lineno">  494</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae6f1a431a83c0433dbe7ffbe3776b8e8" name="ae6f1a431a83c0433dbe7ffbe3776b8e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6f1a431a83c0433dbe7ffbe3776b8e8">&#9670;&#160;</a></span>throttling_swap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">throttling_swap </td>
          <td>(</td>
          <td class="paramtype">list</td>          <td class="paramname"><span class="paramname"><em>d</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>e</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Swap positions of the 0'th and e'th elements in-place.</pre> 
<p class="definition">Definition at line <a class="el" href="cipher_8py_source.html#l00625">625</a> of file <a class="el" href="cipher_8py_source.html">cipher.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  625</span><span class="keyword">def </span>throttling_swap(d: list, e: int):</div>
<div class="line"><span class="lineno">  626</span>    <span class="stringliteral">&quot;&quot;&quot;Swap positions of the 0&#39;th and e&#39;th elements in-place.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  627</span>    e = throttling_mod_func(d, e)</div>
<div class="line"><span class="lineno">  628</span>    f = d[0]</div>
<div class="line"><span class="lineno">  629</span>    d[0] = d[e]</div>
<div class="line"><span class="lineno">  630</span>    d[e] = f</div>
<div class="line"><span class="lineno">  631</span> </div>
<div class="line"><span class="lineno">  632</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a6b604d7c6f0c3ec62f527c982ee664b3" name="a6b604d7c6f0c3ec62f527c982ee664b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b604d7c6f0c3ec62f527c982ee664b3">&#9670;&#160;</a></span>throttling_unshift()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">throttling_unshift </td>
          <td>(</td>
          <td class="paramtype">list</td>          <td class="paramname"><span class="paramname"><em>d</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>e</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Rotates the elements of the list to the right.

In the javascript, the operation is as follows:
for(e=(e%d.length+d.length)%d.length;e--;)d.unshift(d.pop())
</pre> 
<p class="definition">Definition at line <a class="el" href="cipher_8py_source.html#l00511">511</a> of file <a class="el" href="cipher_8py_source.html">cipher.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  511</span><span class="keyword">def </span>throttling_unshift(d: list, e: int):</div>
<div class="line"><span class="lineno">  512</span>    <span class="stringliteral">&quot;&quot;&quot;Rotates the elements of the list to the right.</span></div>
<div class="line"><span class="lineno">  513</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  514</span><span class="stringliteral">    In the javascript, the operation is as follows:</span></div>
<div class="line"><span class="lineno">  515</span><span class="stringliteral">    for(e=(e%d.length+d.length)%d.length;e--;)d.unshift(d.pop())</span></div>
<div class="line"><span class="lineno">  516</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  517</span>    e = throttling_mod_func(d, e)</div>
<div class="line"><span class="lineno">  518</span>    new_arr = d[-e:] + d[:-e]</div>
<div class="line"><span class="lineno">  519</span>    d.clear()</div>
<div class="line"><span class="lineno">  520</span>    <span class="keywordflow">for</span> el <span class="keywordflow">in</span> new_arr:</div>
<div class="line"><span class="lineno">  521</span>        d.append(el)</div>
<div class="line"><span class="lineno">  522</span> </div>
<div class="line"><span class="lineno">  523</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a0b14e488ae28d98d262453f3e9cd6e4d" name="a0b14e488ae28d98d262453f3e9cd6e4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b14e488ae28d98d262453f3e9cd6e4d">&#9670;&#160;</a></span>logger</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">logger = logging.getLogger(__name__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cipher_8py_source.html#l00024">24</a> of file <a class="el" href="cipher_8py_source.html">cipher.py</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacecipher.html">cipher</a></li>
    <li class="footer">Generated on Mon Oct 14 2024 22:52:33 for YouTubeDownloader by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
<a href=https://github.com/timounger/YouTubeDownloader class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
